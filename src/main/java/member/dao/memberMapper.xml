<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="memberSQL">

<!-- 회원가입  -->
<insert id="joinTry" parameterType="member">
	insert into members values(
								id_seq.nextval,
								#{email},
								#{pwd, jdbcType=VARCHAR},
								#{footsize, jdbcType=VARCHAR},
								#{name,jdbcType=VARCHAR},
								#{tel,jdbcType=VARCHAR},
								#{address,jdbcType=VARCHAR},
								sysdate,
								'',
								#{snslogin, jdbcType=INTEGER)
</insert>

<!-- 이메일 중복체크  -->
<select id="checkEmail" parameterType="member" resultType="string">
	select count(*) from members where email = #{email}
</select>

<!-- 로그인 -->
<select id="loginTry" parameterType="java.util.Map" resultType="member">
	select * from members where email = #{email} and pwd=#{pwd} 
</select>
</mapper>
