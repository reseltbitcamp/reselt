<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="shopSQL">
	<select id="getPriceIndex" parameterType="java.util.Map" resultType="priceIndex">
		<![CDATA[
		SELECT product_id, logtime, avg(price) AS price
		FROM priceConfirmed
		WHERE product_id = #{product_id}
			AND logtime < #{today}
			AND logtime >= DATE_SUB(#{today}, INTERVAL 7 DAY)
		GROUP BY logtime
		]]>
	</select>
	
	<select id="getProductInfo" parameterType="java.util.Map" resultType="productInfo">
		SELECT product_name_kor, product_name_eng, product_id,
		released_price, created_at, category_id
		FROM product
		WHERE product_id = '2EV176-9C9';
	</select>

</mapper>